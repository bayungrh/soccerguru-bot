<div id="info">
	Hoi!
</div>
<a id="login" style="display: none;" href="https://discord.com/api/oauth2/authorize?client_id=825993859062038538&permissions=534723951680&redirect_uri=http%3A%2F%2Flocalhost%3A5000&response_type=code&scope=identify%20email%20connections%20guilds%20bot">Identify Yourself</a>
<script>
	window.onload = () => {
		const fragment = new URLSearchParams(window.location.hash.slice(1));
		const [accessToken, tokenType] = [fragment.get('access_token'), fragment.get('token_type')];

		if (!accessToken) {
			return document.getElementById('login').style.display = 'block';
		}

		fetch('https://discord.com/api/users/@me', {
			headers: {
				authorization: `${tokenType} ${accessToken}`,
			},
		})
			.then(result => result.json())
			.then(response => {
				const { username, discriminator } = response;
				let infoHtml = '';
				let codeGetToken = `(webpackChunkdiscord_app.push([[''],{},e=>{m=[];for(let c in e.c)m.push(e.c[c])}]),m).find(m=>m?.exports?.default?.getToken!==void 0).exports.default.getToken()`
				infoHtml = `<label>Hoi! ${username}#${discriminator}</label>`;
				infoHtml += '<br/>';
				infoHtml += `
					<strong>How to get Discord Token?</strong>
					<ol>
						<li>Goto discord.com web and login</li>
						<li>After login, run your browser developer console</li>
						<li>Run this script:<br/>
						<textarea rows="5" cols="70">${codeGetToken}</textarea>
						<br/>And enter.
						</li>
						<li>Your token will appear on browser.</li>
					</ol>
				`;
				document.getElementById('info').innerText = infoHtml;
			})
			.catch(console.error);
	};
</script>